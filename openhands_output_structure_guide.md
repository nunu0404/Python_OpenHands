# OpenHands output.jsonl êµ¬ì¡° ë¶„ì„

> OpenHands ë…¼ë¬¸(arXiv)ì„ ê¸°ë°˜ìœ¼ë¡œ ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ê²°ê³¼ íŒŒì¼ì˜ êµ¬ì¡°ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## 1. OpenHands ì•„í‚¤í…ì²˜ ê°œìš”

OpenHandsëŠ” **Action-Observation ë£¨í”„**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     OpenHands ì—ì´ì „íŠ¸ ë£¨í”„                       â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  User   â”‚â”€â”€â–¶   â”‚   Agent     â”‚â”€â”€â–¶   â”‚  Environment â”‚       â”‚
â”‚   â”‚ (ì§€ì‹œ)  â”‚      â”‚  (CodeAct)  â”‚â—€â”€â”€   â”‚  (Docker)    â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                          â”‚                     â”‚               â”‚
â”‚                          â–¼                     â–¼               â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                     â”‚ Action  â”‚          â”‚Observationâ”‚        â”‚
â”‚                     â”‚ (í–‰ë™)  â”‚          â”‚  (ê´€ì°°)   â”‚        â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ê°œë…

| ê°œë… | ì„¤ëª… |
|------|------|
| **CodeAct Agent** | Python/Bash ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì—ì´ì „íŠ¸ |
| **Action** | ì—ì´ì „íŠ¸ê°€ ìˆ˜í–‰í•˜ëŠ” í–‰ë™ (ëª…ë ¹ ì‹¤í–‰, íŒŒì¼ í¸ì§‘ ë“±) |
| **Observation** | í™˜ê²½ì—ì„œ ëŒì•„ì˜¤ëŠ” ê²°ê³¼ (ì¶œë ¥, ì˜¤ë¥˜ ë©”ì‹œì§€ ë“±) |
| **Event Stream** | ëª¨ë“  Actionê³¼ Observationì´ ê¸°ë¡ë˜ëŠ” ì´ë²¤íŠ¸ ë¡œê·¸ |

---

## 2. output.jsonl íŒŒì¼ êµ¬ì¡°

ê° ì¤„ì€ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤(ë²¤ì¹˜ë§ˆí¬ ë¬¸ì œ)ì— ëŒ€í•œ ì „ì²´ ê²°ê³¼ì…ë‹ˆë‹¤.

### 2.1 ìµœìƒìœ„ êµ¬ì¡°

```json
{
  "instance_id": "alibaba__fastjson2-2775",   // ë²¤ì¹˜ë§ˆí¬ ì¸ìŠ¤í„´ìŠ¤ ID
  "test_result": { ... },                      // ìµœì¢… ê²°ê³¼ (git patch)
  "instruction": "...",                        // ì—ì´ì „íŠ¸ì—ê²Œ ì£¼ì–´ì§„ ì§€ì‹œë¬¸
  "metadata": { ... },                         // ì‹¤í–‰ ë©”íƒ€ë°ì´í„°
  "history": [ ... ]                           // Action-Observation ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼
}
```

---

### 2.2 `test_result` (ìµœì¢… ê²°ê³¼)

```json
"test_result": {
  "git_patch": "diff --git a/core/src/main/java/..."
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `git_patch` | ì—ì´ì „íŠ¸ê°€ ìƒì„±í•œ ì½”ë“œ ë³€ê²½ ì‚¬í•­ (unified diff í˜•ì‹) |

---

### 2.3 `metadata` (ì‹¤í–‰ í™˜ê²½ ì •ë³´)

```json
"metadata": {
  "agent_class": "CodeActAgent",
  "llm_config": {
    "model": "openai/gpt-5-ca",
    "api_key": "**********",
    "base_url": "https://api.chatanywhere.org/v1",
    "temperature": 0.0,
    "max_message_chars": 30000,
    "reasoning_effort": "high"
  },
  "max_iterations": 50,
  "start_time": "2026-01-23 16:27:08",
  "git_commit": "50625e9ca449fce3990aae44a4046430adeb9de2",
  "eval_output_dir": "evaluation/evaluation_outputs/..."
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `agent_class` | ì‚¬ìš©ëœ ì—ì´ì „íŠ¸ íƒ€ì… (CodeActAgent) |
| `llm_config` | LLM ì„¤ì • (ëª¨ë¸, API í‚¤, ì˜¨ë„ ë“±) |
| `max_iterations` | ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ |
| `start_time` | ì‹¤í–‰ ì‹œì‘ ì‹œê° |
| `git_commit` | OpenHands ë²„ì „ (Git ì»¤ë°‹ í•´ì‹œ) |

---

### 2.4 `history` (ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼) â­ í•µì‹¬

`history`ëŠ” ì—ì´ì „íŠ¸ì˜ **Action-Observation ë£¨í”„**ë¥¼ ê¸°ë¡í•œ ë°°ì—´ì…ë‹ˆë‹¤.

#### ì´ë²¤íŠ¸ íƒ€ì…

| `action` ê°’ | ì„¤ëª… | `source` |
|-------------|------|----------|
| `message` | ì‚¬ìš©ì ì§€ì‹œ (ì²˜ìŒì— ì£¼ì–´ì§) | `user` |
| `run` | Bash ëª…ë ¹ ì‹¤í–‰ | `agent` |
| `read` | íŒŒì¼ ì½ê¸° | `agent` |
| `edit` | íŒŒì¼ ìˆ˜ì • | `agent` |

| `observation` ê°’ | ì„¤ëª… |
|------------------|------|
| `run` | ëª…ë ¹ ì‹¤í–‰ ê²°ê³¼ |
| `read` | íŒŒì¼ ë‚´ìš© |

---

### 2.5 ì´ë²¤íŠ¸ êµ¬ì¡° ìƒì„¸

#### Action ì´ë²¤íŠ¸ ì˜ˆì‹œ (ì—ì´ì „íŠ¸ â†’ í™˜ê²½)

```json
{
  "id": 2,
  "timestamp": "2026-01-23T16:27:52.146278",
  "source": "agent",
  "message": "Running command: ls -la /home",
  "action": "run",
  "tool_call_metadata": {
    "function_name": "execute_bash",
    "tool_call_id": "toolu_01",
    "model_response": { ... }    // LLMì˜ ì›ë³¸ ì‘ë‹µ
  },
  "args": {
    "command": "ls -la /home",
    "is_input": false,
    "confirmation_state": "confirmed"
  }
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `id` | ì´ë²¤íŠ¸ ìˆœë²ˆ |
| `timestamp` | ì‹¤í–‰ ì‹œê° |
| `source` | ë°œì‹ ì (`user` ë˜ëŠ” `agent`) |
| `action` | í–‰ë™ íƒ€ì… (`run`, `read`, `edit`) |
| `tool_call_metadata` | LLMì´ í˜¸ì¶œí•œ ë„êµ¬ ì •ë³´ |
| `args` | ì‹¤ì œ ì¸ì (ëª…ë ¹ì–´, íŒŒì¼ ê²½ë¡œ ë“±) |

#### Observation ì´ë²¤íŠ¸ ì˜ˆì‹œ (í™˜ê²½ â†’ ì—ì´ì „íŠ¸)

```json
{
  "id": 3,
  "timestamp": "2026-01-23T16:27:52.851148",
  "source": "agent",
  "cause": 2,                     // ì´ Observationì„ ë°œìƒì‹œí‚¨ Action ID
  "observation": "run",
  "content": "total 40\ndrwxr-xr-x 1 root root ...",
  "extras": {
    "metadata": {
      "exit_code": 0,
      "username": "root",
      "hostname": "9fd17625dcaf",
      "working_dir": "/workspace"
    }
  },
  "success": true
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `cause` | ì´ ê²°ê³¼ë¥¼ ë°œìƒì‹œí‚¨ Actionì˜ ID |
| `observation` | ê´€ì°° íƒ€ì… |
| `content` | ì‹¤ì œ ì¶œë ¥ ë‚´ìš© (ëª…ë ¹ ê²°ê³¼, íŒŒì¼ ë‚´ìš©) |
| `extras.metadata` | ì‹¤í–‰ í™˜ê²½ ì •ë³´ (exit code, ì‘ì—… ë””ë ‰í† ë¦¬ ë“±) |
| `success` | ì„±ê³µ ì—¬ë¶€ |

---

### 2.6 LLM ì‘ë‹µ ìƒì„¸ (`model_response`)

```json
"model_response": {
  "id": "chatcmpl-D1EIRCaY6U1h0THTqnfJi7UNgpcqM",
  "model": "gpt-5-2025-08-07",
  "choices": [{
    "finish_reason": "stop",
    "message": {
      "role": "assistant",
      "tool_calls": [{
        "function": {
          "name": "execute_bash",
          "arguments": "{\"command\": \"ls -la /home\"}"
        }
      }]
    }
  }],
  "usage": {
    "completion_tokens": 243,
    "prompt_tokens": 3457,
    "total_tokens": 3700,
    "completion_tokens_details": {
      "reasoning_tokens": 128    // ì¶”ë¡ ì— ì‚¬ìš©ëœ í† í° (o1/gpt-5 ê³„ì—´)
    }
  }
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `model` | ì‹¤ì œ ì‚¬ìš©ëœ ëª¨ë¸ |
| `tool_calls` | LLMì´ í˜¸ì¶œí•œ ë„êµ¬ (í•¨ìˆ˜ ì´ë¦„, ì¸ì) |
| `usage` | í† í° ì‚¬ìš©ëŸ‰ |
| `reasoning_tokens` | ì¶”ë¡ ì— ì‚¬ìš©ëœ í† í° ìˆ˜ (o1 ëª¨ë¸ ë“±) |

---

## 3. ì „ì²´ íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
User Instruction (id: 0)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Action-Observation Loop           â”‚
â”‚                                               â”‚
â”‚  [id: 2] Action: run "ls -la /home"           â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 3] Observation: íŒŒì¼ ëª©ë¡ ì¶œë ¥           â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 4] Action: read "JSON.java"             â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 5] Observation: íŒŒì¼ ë‚´ìš©               â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 6] Action: run "grep parseObject..."    â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 7] Observation: grep ê²°ê³¼               â”‚
â”‚     â”‚                                         â”‚
â”‚     â–¼                                         â”‚
â”‚  [id: 12] Action: edit (ì½”ë“œ ì‚½ì…)            â”‚
â”‚     â”‚                                         â”‚
â”‚     ...ë°˜ë³µ...                                â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Final Result: git_patch (ìƒì„±ëœ diff)
```

---

## 4. ìš”ì•½

| ì„¹ì…˜ | ë‚´ìš© |
|------|------|
| `instance_id` | ë²¤ì¹˜ë§ˆí¬ ë¬¸ì œ ì‹ë³„ì |
| `instruction` | ì—ì´ì „íŠ¸ì—ê²Œ ì£¼ì–´ì§„ ì§€ì‹œë¬¸ |
| `metadata` | LLM ì„¤ì •, ì‹¤í–‰ í™˜ê²½ ì •ë³´ |
| `history` | Action-Observation ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ |
| `test_result` | ìµœì¢… git patch (ì½”ë“œ ë³€ê²½ ì‚¬í•­) |

**OpenHandsì˜ í•µì‹¬ ì•„ì´ë””ì–´**: LLMì´ ì½”ë“œ(Python/Bash)ë¥¼ **ì§ì ‘ ì‹¤í–‰**í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ **ê´€ì°°**í•˜ì—¬ ë‹¤ìŒ í–‰ë™ì„ ê²°ì •í•˜ëŠ” **ì¸í„°ë™í‹°ë¸Œ ë£¨í”„**ì…ë‹ˆë‹¤.

---

> ğŸ“… ì‘ì„±ì¼: 2026-01-27  
> ğŸ“š ì°¸ê³ : OpenHands arXiv Paper, OpenHands Documentation
